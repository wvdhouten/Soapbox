@model Soapbox.Web.Areas.Admin.Models.Posts.PostViewModel
@{
  ViewData[Constants.Title] = $"Edit post";
}

<style>
  .editor {
    min-height: 350px;
  }

  .input-container {
    width: 100%;
  }
</style>

<div class="container content">
  <form method="post">
    <header>
      <h2>Edit Post</h2>
    </header>
    <input type="hidden" asp-for="Id" />
    <div asp-validation-summary="ModelOnly" class="text-danger"></div>
    <div class="form-group horizontal">
      <label asp-for="Title"></label>
      <input asp-for="Title" />
    </div>
    <div class="form-group horizontal">
      <label asp-for="Slug"></label>
      <input asp-for="Slug" />
    </div>
    <div class="form-group horizontal">
      <label asp-for="Categories"></label>
      <div class="input-container">
        <div class="pillbox">
          @for (int i = 0; i < Model.AllCategories.Count; i++)
          {
            <div class="pill">
              <span>
                <input asp-for="@Model.AllCategories[i].Id" type="hidden" />
                <input asp-for="@Model.AllCategories[i].Name" type="hidden" />
                <input asp-for="@Model.AllCategories[i].Checked" type="checkbox" />
              </span>
              <span><label asp-for="@Model.AllCategories[i].Checked">@Model.AllCategories[i].Name</label></span>
            </div>
          }
        </div>
        <div class="input-group">
          <input asp-for="NewCategory" />
          <button type="submit" name="action" value="AddCategory"><i class="fa fa-plus"></i></button>
        </div>
      </div>
    </div>
    <div class="form-group horizontal">
      <label asp-for="Status"></label>
      <select asp-for="Status" asp-items="Html.GetEnumSelectList<PostStatus>()"></select>
    </div>
    <div class="form-group horizontal">
      <label asp-for="PublishedOn"></label>
      <input asp-for="PublishedOn" />
    </div>
    <div class="form-group">
      <label asp-for="Excerpt"></label>
      <textarea asp-for="Excerpt"></textarea>
    </div>
    <div class="form-group">
      <label asp-for="Content"></label>
      <textarea asp-for="Content" class="editor"></textarea>
    </div>
    <button type="submit">Save</button>
  </form>
</div>
