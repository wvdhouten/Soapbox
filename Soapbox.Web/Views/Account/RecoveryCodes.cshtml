@model Models.Account.RecoveryCodesModel
@{
  ViewData["Title"] = "Recovery codes";
  ViewData["ActivePage"] = "TwoFactorAuthentication";
}

@if (!Model.RecoveryCodes.Any())
{
  ViewData["Title"] = "Generate two-factor authentication (2FA) recovery codes";

  <h4>@ViewData["Title"]</h4>
  <div class="alert alert-warning" role="alert">
    <p>
      <i class="fa fa-warning" aria-hidden="true"></i>
      <strong>Put these codes in a safe place.</strong>
    </p>
    <p>If you lose your device and don't have the recovery codes you will lose access to your account.</p>
    <p>Generating new recovery codes does not change the keys used in authenticator apps. If you wish to change the key used in an authenticator app you should <a asp-page="./ResetAuthenticator">reset your authenticator keys.</a></p>
  </div>
  <form method="post" class="form-group">
    <button type="submit">Generate Recovery Codes</button>
  </form>
}
else
{
  <h4>@ViewData["Title"]</h4>
  <div class="alert alert-warning" role="alert">
    <p><strong>Put these codes in a safe place.</strong></p>
    <p>If you lose your device and don't have the recovery codes you will lose access to your account.</p>
  </div>
  @for (var row = 0; row < Model.RecoveryCodes.Length; row += 2)
  {
    <code class="recovery-code">@Model.RecoveryCodes[row]</code><text>&nbsp;</text><code class="recovery-code">@Model.RecoveryCodes[row + 1]</code>
    <br />
  }
}

