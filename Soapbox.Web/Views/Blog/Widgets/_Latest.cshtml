@model Models.Blog.RecentPostsWidgetModel
@inject DataAccess.Abstractions.IBlogService BlogService
@{
    var model = Model ?? new Models.Blog.RecentPostsWidgetModel();
    var posts = await BlogService.GetPostsAsync(model.PostCount);
}

<article class="widget">
  <header>
    <h2>Blog: Latest</h2>
  </header>
  <section class="item-feed">
    @await foreach (var post in posts)
    {
      <partial name="~/Views/Blog/_Headline.cshtml" model="post" />
    }
  </section>
</article>
