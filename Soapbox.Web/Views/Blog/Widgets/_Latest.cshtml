@model Models.Blog.RecentPostsWidgetModel
@inject DataAccess.Abstractions.IBlogService BlogService
@{
    var model = Model ?? new Models.Blog.RecentPostsWidgetModel();
    var page = await BlogService.GetPostsPageAsync(1, model.PostCount);
}

<article class="widget">
  <header>
    <h2>Blog: Latest</h2>
  </header>
  <section class="item-feed">
    @foreach (var post in page.Items)
    {
      <partial name="~/Views/Blog/Partials/_Headline.cshtml" model="post" />
    }
  </section>
</article>
